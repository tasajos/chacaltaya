<br>
<br>
<div class="container-fluid text-center">
  <form class="example-form" [formGroup]="formulario" (ngSubmit)="registrarusuario()" >
    <div class="row">
      <div class="col-2 p-3 custom-container-bg" style="margin-left: 15px;">
        <app-sidebar></app-sidebar>
      </div>
      <div class="col-9 p-3 customm2-container-bg"><app-navbarcasos></app-navbarcasos>
    <p></p>
    <div class="card">
        <div class="card-body">
          PRIMERA PARTE CLIENTE
        </div>
      </div>
      <br>
      <div class="row g-2">
        <div class="col-md">
            <div class="form-floating">
              <select class="form-select" id="tipoSelect" [(ngModel)]="selectedTipo" (change)="getNombresPorTipo()" formControlName="clientetipo">
                <option value="">Tipo</option>
                <option *ngFor="let tipo of tipos" [value]="tipo">{{ tipo }}</option>
              </select>
              <label for="tipoSelect">Seleccione el tipo de contacto:</label>
            </div>
          </div>
     
          
        <div class="col-md">
            <div class="form-floating">
              <select class="form-select" id="nombreSelect" [(ngModel)]="selectedNombre" formControlName="cliente">
                <option value="">Nombre</option>
                <option *ngFor="let nombre of nombresPorTipo" [value]="nombre">{{ nombre }}</option>
              </select>
              <label for="nombreSelect">Seleccione el nombre de contacto:</label>
            </div>
          </div>


      </div>
      <br>
      <div class="card">
        <div class="card-body">
          SEGUNDA PARTE REPRESENTACION LEGAL
        </div>
      </div>
      <br>
      <div class="row g-2">
        <div class="col-md">
            <div class="form-floating">
              <select class="form-select" id="especialidadSelect" [(ngModel)]="selectedEspecialidad" (change)="getAbogadosPorEspecialidad()" formControlName="especialidad">
                <option value="">Especialidad</option>
                <option *ngFor="let especialidad of especialidades" [value]="especialidad">{{ especialidad }}</option>
              </select>
              <label for="especialidadSelect">Seleccione la especialidad:</label>
            </div>
          </div>

        <div class="col-md">
            <div class="form-floating">
            <select class="form-select" id="abogadoSelect" [(ngModel)]="selectedAbogado" formControlName="abogado">
            <option value="">Abogado</option>
            <option *ngFor="let abogado of abogadosPorEspecialidad" [value]="abogado">{{ abogado }}</option>
            </select>
            <label for="abogadoSelect">Seleccione el abogado:</label>
            </div>
        </div>
        <br>
        <br>
        <p></p>
        <div class="card">
            <div class="card-body">
              TERCERA PARTE CASO
            </div>
          </div>
          <br>

    <div class="row g-2">
        <div class="col-md">
          <div class="form-floating">
            <input type="date" class="form-control" id="floatingInputGrid" placeholder="Nombre" formControlName="fecharegistro">
            <label for="floatingInputGrid">Fecha</label>
          </div>
        </div>
        <div class="col-md">
          <div class="form-floating">
            <select class="form-select" id="floatingSelectGrid" formControlName="tipocaso">
              <option selected>Tipo de caso</option>
              <option value="Administrativo">Administrativo</option>
              <option value="Civil">Civil</option>
              <option value="Constitucional">Constitucional</option>
              <option value="Penal">Penal</option>
              <option value="Procesal">Procesal</option>
              <option value="Tributario">Tributario</option>
              <option value="Mercantil">Mercantil</option>
              <option value="Laboral">Laboral</option>
              <option value="Internacional">Internacional</option>
              <option value="Ambiental">Ambiental</option>
              <option value="Familiar">Familiar</option>
              <option value="Comercial">Comercial</option>
              <option value="OTRO">OTRO</option>
            </select>
            <label for="floatingSelectGrid">Seleccione:</label>
          </div>
        </div>
      </div>
<br>
      <div class="row g-2">
        <div class="col-md">
          <div class="form-floating">
            <input type="date" class="form-control" id="floatingInputGrid" placeholder="nfcaso" formControlName="fechasuceso">
            <label for="floatingInputGrid">Fecha del suceso</label>
          </div>
        </div>
        <div class="col-md">
          <div class="form-floating">
            <input type="text" class="form-control" id="floatingInputGrid" placeholder="ubicacion" formControlName="ubicacion">
            <label for="floatingInputGrid">Ubicacion</label>
        </div>
      </div>
        
      <br>
      <div class="row g-2">
        <div class="col-md">
          <div class="form-floating">
            <textarea class="form-control" placeholder="Direccion" id="floatingTextarea2" style="height: 100px" formControlName="nombrepartesinv"></textarea>
  <label for="floatingTextarea2">Nombre de las partes involucradas</label>
          </div>
        </div>
        <div class="col-md">
            <div class="form-floating">
              <textarea class="form-control" placeholder="Direccion" id="floatingTextarea2" style="height: 100px" formControlName="descripcioncaso"></textarea>
    <label for="floatingTextarea2">Descripcion del caso</label>
            </div>
            <br>
          </div>
          <br>
          <br>
          <div class="card">
            <div class="card-body">
              CUARTE PARTE EVIDENCIAS
            </div>
          </div>
          <br>
<!--
         <div class="row g-2">
            <div class="col-md">
              <div class="form-floating">
                <div class="mb-3">
                    <label for="formFileMultiple" class="form-label">Evidencias (documentos,imagenes,pdf)</label>
                    <input class="form-control" type="file" id="formFileMultiple" multiple>
                  </div>
              </div>
            </div>
-->
<div class="row g-2">
  <div class="col-md">
  <div class="input-group">
  <input type="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload" #fileInput>
  <button class="btn btn-primary" type="button" id="inputGroupFileAddon04" (click)="uploadFile(fileInput)">Subir Archivo</button>
  </div>
  <!-- Agregar un elemento para mostrar el mensaje de éxito -->
  <div *ngIf="archivoCargado" class="alert alert-success mt-3">
    Archivo cargado con éxito.
  </div>
  <div class="col-md">
    <br>
  <div class="form-floating">
    <input type="text" class="form-control" id="floatingInputGrid" placeholder="ruta" formControlName="ruta" [value]="uploadedFileUrl">
    <label for="floatingInputGrid">Ruta</label>
</div>
</div>
  
        
</div>
        
      </div>
      
    </div>
    <br>
    <br>
  </div>   </div>

<div *ngIf="showAlert" class="alert alert-success alert-dismissible fade show" role="alert">
  ¡Registro exitoso! Mensaje de éxito.
  <button type="button" class="btn-close" aria-label="Close" (click)="closeAlert()"></button>
</div>
      <br>

      <div *ngIf="showAlert" class="alert alert-success alert-dismissible fade show" role="alert">
        ¡Registro exitoso! Código del caso: {{ codigocaso }}
        <button type="button" class="btn-close" aria-label="Close" (click)="closeAlert()"></button>
      </div>
    <button type="submit" class="btn btn-primary btn-lg">REGISTRAR</button>
  </div></div>